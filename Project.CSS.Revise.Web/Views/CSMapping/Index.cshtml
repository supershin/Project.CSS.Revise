@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_LayoutSite.cshtml";
}
<style>
    tbody td {
        text-align: left;
    }
    tbody td:first-child {
        text-align: center;
    }
</style>

<div class="container-fluid">
    <div class="page-title">
        <div class="row">
            <div class="col-6">
                <h4>CS Unit Mapping</h4>
            </div>
            <div class="col-6">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="index.html">
                            <svg class="stroke-icon">
                                <use xlink:href="@Url.Content("~/assets/svg/icon-sprite.svg#stroke-home")"></use>
                            </svg>
                        </a>
                    </li>
                    <li class="breadcrumb-item">Setting</li>
                    <li class="breadcrumb-item active">CS Unit Mapping</li>
                </ol>
            </div>
        </div>
    </div>
</div>
<!-- Container-fluid starts-->
<div class="container-fluid">
        <div class="row">
            <div class="col-xl-3 xl-30 box-col-12">
                <div class="md-sidebar">
                    <a class="btn btn-primary email-aside-toggle md-sidebar-toggle">Job filter</a>
                    <div class="md-sidebar-aside job-sidebar">
                        <div class="default-according style-1 faq-accordion job-accordion">
                            <div class="accordion" id="accordionExample">
                                <div class="card">
                                    <div class="card-header" id="headingOne">
                                        <h2 class="mb-0">
                                            <button class="btn btn-link btn-block text-start" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">Filter</button>
                                        </h2>
                                    </div>
                                    <div class="collapse show" id="collapseOne" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                                        <div class="card-body filter-cards-view animate-chk">

                                            <!-- 🔍 พนักงาน -->
                                            <div class="job-filter mb-3">
                                                <label for="csUserSelect" class="form-label fw-bold">ชื่อพนักงาน</label>
                                                <select id="csUserSelect" class="form-control searchable-select">
                                                    <option value="">พิมพ์ค้นหาชื่อพนักงาน...</option>
                                                    <option value="1">กิตติยา ใจดี</option>
                                                    <option value="2">ณัฐพร สายทอง</option>
                                                    <option value="3">นภัทร ศรีสม</option>
                                                    <option value="4">สุพรรณี วิชัย</option>
                                                    <option value="5">พนิดา อินทร์แก้ว</option>
                                                    <option value="6">ชุติมา แสงดาว</option>
                                                </select>
                                            </div>

                                            <!-- 🏢 โครงการ -->
                                            <div class="job-filter mb-3">
                                                <label for="projectSelect" class="form-label fw-bold">โครงการที่รับผิดชอบ</label>
                                                <select id="projectSelect" class="form-control searchable-select">
                                                    <option value="1">มารูน รัชดา</option>
                                                    <option value="2">เคฟ ป๊อป ศาลายา</option>
                                                    <option value="3">เคฟ วันเดอร์แลนด์</option>
                                                    <option value="4">เคฟ ลูมินัส บางมด</option>
                                                    <option value="5">แอทโมซ เดอ โซล ทิพวัล สเตชั่น</option>
                                                    <option value="6">เคฟ เอ็มบริโอ รังสิต</option>
                                                    <option value="7">แอทโมซ แคนวาส ระยอง</option>
                                                    <option value="8">เคฟ ทาวน์ ไอส์แลนด์</option>
                                                    <option value="9">โมดิซ โวยาจ ศรีนครินทร์</option>
                                                    <option value="10">เคฟ ซี๊ด เกษตร</option>
                                                    <option value="11">แอทโมซ ซีซั่น ลาดกระบัง</option>
                                                    <option value="12">โมดิซ วอลท์ เกษตร - ศรีปทุม</option>
                                                    <option value="13">แอทโมซ พาลาซิโอ ลาดพร้าว-วังหิน</option>
                                                </select>
                                            </div>

                                            <!-- 🏢 อาคาร -->
                                            <div class="job-filter mb-3">
                                                <label for="buildingMultiSelect" class="form-label fw-bold">อาคาร</label>
                                                <select id="buildingMultiSelect" class="form-control multi-select" multiple>
                                                    <option value="1">A</option>
                                                    <option value="2">B</option>
                                                    <option value="3">C</option>
                                                    <option value="4">D</option>
                                                </select>
                                            </div>

                                            <!-- 🧱 ชั้น -->
                                            <div class="job-filter mb-3">
                                                <label for="floorMultiSelect" class="form-label fw-bold">ชั้น</label>
                                                <select id="floorMultiSelect" class="form-control multi-select" multiple>
                                                    <option value="B2">B2</option>
                                                    <option value="B1">B1</option>
                                                    <option value="G">G</option>
                                                    @for (int i = 1; i <= 100; i++)
                                                    {
                                                        <option value="@i">@i</option>
                                                    }
                                                </select>
                                            </div>

                                            <!-- 🚪 ห้อง -->
                                            <div class="job-filter mb-3">
                                                <label for="roomMultiSelect" class="form-label fw-bold">ห้อง</label>
                                                <select id="roomMultiSelect" class="form-control multi-select" multiple>
                                                    @for (int i = 1; i <= 300; i++)
                                                    {
                                                        <option value="@i">Room @i</option>
                                                    }
                                                </select>
                                            </div>

                                            <!-- 🔎 ปุ่มค้นหา -->
                                            <button class="btn btn-primary text-center" type="button">Search 🔍 </button>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-9 xl-70 box-col-12">
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <div>
                            <h4>บริษัท เอสเตท คิว จำกัด</h4>
                            <div class="d-flex align-items-center gap-3 f-m-light mt-1 mb-0">
                                <div class="form-check form-switch mb-0">
                                    <input class="form-check-input" type="checkbox" id="filterCheckedOnly">
                                    <label class="form-check-label" for="filterCheckedOnly">แสดงเฉพาะที่เลือก</label>
                                </div>
                            </div>
                        </div>
                        <div>
                            <button type="button" class="btn btn-primary btn-sm">
                                💾 Save
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-bordered table-striped align-middle text-center">
                            <thead class="table-light">
                                <tr>
                                    <th scope="col" class="text-center">
                                        <input class="form-check-input" type="checkbox" id="checkAll">
                                    </th>
                                    <th scope="col">Unit</th>
                                    <th scope="col">CS Name</th>
                                    <th scope="col">Status</th>
                                    <th scope="col">Floor & Room</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="text-center">
                                        <!-- ✅ Force checkbox td center -->
                                        <input class="form-check-input row-check" id="flexCheckCheckedA001" type="checkbox" checked>
                                    </td>
                                    <td class="text-start">
                                        เคฟ เพลย์กราวด์ ลาดพร้าว-บดินทรเดชา
                                        <small class="d-block">Unit B105</small>
                                    </td>
                                    <td class="text-start">กิติยา กัญยะโสภา</td>
                                    <td class="text-start">
                                        <span class="badge bg-grey text-dark">ว่าง</span>
                                    </td>
                                    <td class="text-start">Floor : 2 - Room : 8</td>
                                </tr>
                                <tr>
                                    <td class="text-center">
                                        <input class="form-check-input row-check" type="checkbox">
                                    </td>
                                    <td class="text-start">
                                        เคฟ เพลย์กราวด์ ลาดพร้าว-บดินทรเดชา
                                        <small class="d-block">Unit B113</small>
                                    </td>
                                    <td class="text-start">ณัฐพร สายทอง</td>
                                    <td class="text-start">
                                        <span class="badge bg-danger text-white">จอง</span>
                                    </td>
                                    <td class="text-start">Floor : 5 - Room : 12</td>
                                </tr>
                                <tr>
                                    <td class="text-center">
                                        <input class="form-check-input row-check" type="checkbox" checked>
                                    </td>
                                    <td class="text-start">
                                        เคฟ เพลย์กราวด์ ลาดพร้าว-บดินทรเดชา
                                        <small class="d-block">Unit C307</small>
                                    </td>
                                    <td class="text-start">พนิดา อินทร์แก้ว</td>
                                    <td class="text-start">
                                        <span class="badge bg-primary">สัญญา</span>
                                    </td>
                                    <td class="text-start">Floor : 3 - Room : 7</td>
                                </tr>
                                <tr>
                                    <td class="text-center">
                                        <input class="form-check-input row-check" type="checkbox">
                                    </td>
                                    <td class="text-start">
                                        เคฟ เพลย์กราวด์ ลาดพร้าว-บดินทรเดชา
                                        <small class="d-block">Unit C412</small>
                                    </td>
                                    <td class="text-start">นภัทร ศรีสม</td>
                                    <td class="text-start">
                                        <span class="badge bg-success">โอน</span>
                                    </td>
                                    <td class="text-start">Floor : 4 - Room : 12</td>
                                </tr>
                                <tr>
                                    <td class="text-center">
                                        <input class="form-check-input row-check" type="checkbox">
                                    </td>
                                    <td class="text-start">
                                        เคฟ เพลย์กราวด์ ลาดพร้าว-บดินทรเดชา
                                        <small class="d-block">Unit E206</small>
                                    </td>
                                    <td class="text-start">ชุติมา แสงดาว</td>
                                    <td class="text-start">
                                        <span class="badge bg-light text-dark">ว่าง</span>
                                    </td>
                                    <td class="text-start">Floor : B1 - Room : 6</td>
                                </tr>
                                <tr>
                                    <td class="text-center">
                                        <input class="form-check-input row-check" type="checkbox" checked>
                                    </td>
                                    <td class="text-start">
                                        เคฟ เพลย์กราวด์ ลาดพร้าว-บดินทรเดชา
                                        <small class="d-block">Unit F806</small>
                                    </td>
                                    <td class="text-start">สุพรรณี วิชัย</td>
                                    <td class="text-start">
                                        <span class="badge bg-danger">จอง</span>
                                    </td>
                                    <td class="text-start">Floor : 8 - Room : 9</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    </div>
                </div>
            </div>
        </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const checkAll = document.getElementById("checkAll");
        const checkboxes = document.querySelectorAll(".row-check");
        const filterToggle = document.getElementById("filterCheckedOnly"); // optional if you have this switch

        checkAll.addEventListener("change", function () {
            checkboxes.forEach(cb => cb.checked = checkAll.checked);
        });

        if (filterToggle) {
            filterToggle.addEventListener("change", function () {
                checkboxes.forEach(cb => {
                    const row = cb.closest("tr");
                    row.style.display = filterToggle.checked ? (cb.checked ? "" : "none") : "";
                });
            });
        }
    });



    document.addEventListener("DOMContentLoaded", function () {
        new Choices('#csUserSelect', {
            placeholderValue: '🔍 พิมพ์ค้นหาชื่อพนักงาน...',
            searchEnabled: true,
            itemSelectText: '',
            shouldSort: false
        });
    });

    document.addEventListener("DOMContentLoaded", function () {
        new Choices('#projectSelect', {
            placeholderValue: 'เลือกโครงการ',
            searchEnabled: true,
            itemSelectText: '',
            shouldSort: false
        });
    });

     document.addEventListener("DOMContentLoaded", function () {
        new Choices('#buildingMultiSelect', {
            removeItemButton: true,
            placeholderValue: 'เลือกอาคารได้หลายอาคาร',
            searchEnabled: true,
            itemSelectText: '',
            shouldSort: false
        });
    });

    document.addEventListener("DOMContentLoaded", function () {
        new Choices('#floorMultiSelect', {
            removeItemButton: true,
            placeholderValue: 'เลือกชั้นที่ต้องการ',
            searchEnabled: true,
            itemSelectText: '',
            shouldSort: false
        });
    });

     document.addEventListener("DOMContentLoaded", function () {
        new Choices('#roomMultiSelect', {
            removeItemButton: true,
            placeholderValue: 'เลือกห้องที่ต้องการ',
            searchEnabled: true,
            itemSelectText: '',
            shouldSort: false
        });
    });

</script>