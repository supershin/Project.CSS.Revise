@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_LayoutSite.cshtml";
}

<div class="container-fluid">
    <div class="page-title">
        <div class="row">
            <div class="col-6">
                <h4>User Bank</h4>
            </div>
            <div class="col-6">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="index.html">
                            <svg class="stroke-icon">
                                <use xlink:href="@Url.Content("~/assets/svg/icon-sprite.svg#stroke-home")"></use>
                            </svg>
                        </a>
                    </li>
                    <li class="breadcrumb-item">Setting</li>
                    <li class="breadcrumb-item active">User Bank</li>
                </ol>
            </div>
        </div>
    </div>
</div>
<!-- Container-fluid starts-->
<div class="container-fluid">
    <div class="email-wrap bookmark-wrap">
        <div class="row">
            <div class="box-col-12">
                <div class="email-right-aside bookmark-tabcontent contacts-tabs">
                    <div class="card email-body radius-left dark-contact">
                        <div class="ps-0">
                            <div class="tab-content">
                                <div class="tab-pane fade active show" id="pills-personal" role="tabpanel" aria-labelledby="pills-personal-tab">
                                    <div class="card">
                                        <div class="card-header d-flex flex-wrap justify-content-between align-items-center gap-2">
                                            <!-- Search box -->
                                            <div class="flex-grow-1">
                                                <input type="text"
                                                       id="searchPerson"
                                                       class="form-control"
                                                       placeholder="🔍 ค้นหา ชื่อ, อังกฤษ หรือแผนก">
                                            </div>

                                            <!-- Bank dropdown (ใช้ listBank: ValueInt, Text) -->
                                            <div style="min-width:220px;">
                                                <select id="ddl_bank" class="form-select">
                                                    <option value="">— เลือกธนาคาร —</option>
                                                    <!-- จะถูกเติมด้วย JS จาก Page_Load -->
                                                </select>
                                            </div>

                                            <!-- Create button -->
                                            <button type="button"
                                                    class="btn btn-primary btn-sm ms-2"
                                                    data-bs-toggle="modal"
                                                    data-bs-target="#modalCreateUser">
                                                <i class="bi bi-plus-circle me-1"></i> Create
                                            </button>
                                        </div>

                                        <div class="card-body">
                                            <div class="row list-persons" id="addcon">
                                                <div class="col-xl-12 p-3">
                                                    <!-- Make card CountUserByBank here! -->
                                                    <div id="bankCountCards" class="row g-3"></div>
                                                </div>

                                                <div class="col-xl-4 xl-40 col-md-5">
                                                    <div class="vertical-scroll scroll-demo scroll-b-none"
                                                         style="height: 911px; overflow-y: auto; overflow-x: hidden;">
                                                        <div id="userBankList" class="list-group">
                                                            <!-- Render listUserBank ที่นี่ -->
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-xl-8 xl-60 col-md-7">
                                                    <div class="card h-100">
                                                        <!-- Header -->
                                                        <div class="card-header bg-white border-0 pb-0">
                                                            <div class="d-flex align-items-center gap-3">
                                                                <div class="bank-logo-circle">
                                                                    <img id="editUserBankLogo" src="" alt="Bank" />
                                                                </div>
                                                                <div>
                                                                    <div id="editUserBankFullName" class="fw-bold text-dark fs-5">
                                                                        <!-- ปานิสรา วงษ์วาณิช -->
                                                                    </div>
                                                                    <div id="editUserBankBankName" class="text-muted">
                                                                        <!-- ธนาคารกรุงเทพ จำกัด (มหาชน) -->
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <hr class="mt-3 mb-0" />
                                                        </div>

                                                        <!-- Body -->
                                                        <div class="card-body pt-3">
                                                            <ul class="simple-wrapper nav nav-tabs" id="Edit-userbank-Form-tab" role="tablist">
                                                                <li class="nav-item">
                                                                    <a class="nav-link active txt-primary" id="detail-tab" data-bs-toggle="tab"
                                                                       href="#detail-filter" role="tab" aria-controls="detail-tab" aria-selected="true">
                                                                        <i class="fa fa-user me-1"></i> Detail
                                                                    </a>
                                                                </li>
                                                                <li class="nav-item">
                                                                    <a class="nav-link txt-primary" id="team-tab" data-bs-toggle="tab"
                                                                       href="#team-filter" role="tab" aria-controls="team-tab" aria-selected="false">
                                                                        <i class="fa fa-users me-1"></i> Team
                                                                    </a>
                                                                </li>
                                                            </ul>

                                                            <div class="tab-content" id="Edit-userbank-Form-tab-Content">
                                                                <div class="tab-pane fade show active" id="detail-filter" role="tabpanel" aria-labelledby="detail-tab">
                                                                    <div class="profile-mail pt-3">
                                                                        <!-- Bank / Lead -->
                                                                        <div class="mb-3 row">
                                                                            <label class="col-sm-3 col-form-label">หัวหน้า Team</label>
                                                                            <div class="col-sm-9 d-flex align-items-center">
                                                                                <input type="checkbox" id="chkIsLead" class="form-check-input me-2" />
                                                                            </div>
                                                                        </div>

                                                                        <div class="mb-3 row">
                                                                            <label class="col-sm-3 col-form-label">Bank</label>
                                                                            <div class="col-sm-9">
                                                                                <select id="ddlEditBank" class="form-select"></select>
                                                                            </div>
                                                                        </div>

                                                                        <!-- Inputs -->
                                                                        <div class="mb-3 row">
                                                                            <label class="col-sm-3 col-form-label">First Name</label>
                                                                            <div class="col-sm-9">
                                                                                <input class="form-control" id="inpFirstName" type="text" placeholder="First name">
                                                                            </div>
                                                                        </div>

                                                                        <div class="mb-3 row">
                                                                            <label class="col-sm-3 col-form-label">Last Name</label>
                                                                            <div class="col-sm-9">
                                                                                <input class="form-control" id="inpLastName" type="text" placeholder="Last name">
                                                                            </div>
                                                                        </div>

                                                                        <div class="mb-3 row">
                                                                            <label class="col-sm-3 col-form-label">Mobile</label>
                                                                            <div class="col-sm-9">
                                                                                <input class="form-control" id="inpMobile" type="tel" placeholder="0812345678">
                                                                            </div>
                                                                        </div>

                                                                        <div class="mb-3 row">
                                                                            <label class="col-sm-3 col-form-label">Email</label>
                                                                            <div class="col-sm-9">
                                                                                <input class="form-control" id="inpEmail" type="email" placeholder="example@mail.com">
                                                                            </div>
                                                                        </div>

                                                                        <div class="mb-3 row">
                                                                            <label class="col-sm-3 col-form-label">Username</label>
                                                                            <div class="col-sm-9">
                                                                                <input class="form-control" id="inpUsername" type="text" placeholder="username">
                                                                            </div>
                                                                        </div>

                                                                        <div class="mb-3 row">
                                                                            <label class="col-sm-3 col-form-label">Password</label>
                                                                            <div class="col-sm-9">
                                                                                <input class="form-control" id="inpPassword" type="password" placeholder="********">
                                                                            </div>
                                                                        </div>

                                                                        <!-- Projects -->
                                                                        <div class="mb-2">
                                                                            <select id="projectMultiSelect" class="form-control" multiple></select>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <div class="tab-pane fade" id="team-filter" role="tabpanel" aria-labelledby="team-tab">
                                                                    <div class="pt-3" id="team-tab-content">
                                                                        <!-- Teams Name -->
                                                                        <div class="mb-3">
                                                                            <label class="form-label fw-semibold">Teams Name</label>
                                                                            <input type="text" class="form-control" placeholder="Teams BBL 1 - คุณปานิสรา วงษ์วาณิช (สอบ)">
                                                                        </div>

                                                                        <!-- Search -->
                                                                        <div class="mb-3">
                                                                            <div class="input-group">
                                                                                <span class="input-group-text bg-white border-end-0">
                                                                                    <i class="fa fa-search text-muted"></i>
                                                                                </span>
                                                                                <input type="text" class="form-control border-start-0" placeholder="ค้นหา Teams / Name">
                                                                            </div>
                                                                        </div>

                                                                        <!-- Table -->
                                                                        <div class="table-responsive">
                                                                            <table class="table align-middle team-table">
                                                                                <thead>
                                                                                    <tr class="border-bottom">
                                                                                        <th style="width:44px;">
                                                                                            <input class="form-check-input team-check-all" type="checkbox">
                                                                                        </th>
                                                                                        <th class="text-muted fw-semibold">Teams</th>
                                                                                        <th class="text-muted fw-semibold">Member</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                    <!-- Row 1 (checked) -->
                                                                                    <tr class="team-row">
                                                                                        <td>
                                                                                            <input class="form-check-input team-check" type="checkbox" checked>
                                                                                        </td>
                                                                                        <td>
                                                                                            <div class="fw-semibold">Teams BBL 1 - คุณปานิสรา วงษ์วาณิช (สอบ)</div>
                                                                                        </td>
                                                                                        <td>
                                                                                            <div class="member-name">ปานิสรา วงษ์วาณิช</div>
                                                                                            <div class="member-area fw-semibold text-dark">กรุงเทพฯ/ปริมณฑล</div>
                                                                                        </td>
                                                                                    </tr>

                                                                                    <!-- Row 2 (checked) -->
                                                                                    <tr class="team-row">
                                                                                        <td>
                                                                                            <input class="form-check-input team-check" type="checkbox" checked>
                                                                                        </td>
                                                                                        <td>
                                                                                            <div class="fw-semibold">Teams BBL 1 - คุณปานิสรา วงษ์วาณิช (สอบ)</div>
                                                                                        </td>
                                                                                        <td>
                                                                                            <div class="member-name">สุชิน บุหาริษ</div>
                                                                                            <div class="member-area fw-semibold text-dark">ต่างจังหวัด</div>
                                                                                        </td>
                                                                                    </tr>

                                                                                    <!-- Row 3 (unchecked) -->
                                                                                    <tr class="team-row">
                                                                                        <td>
                                                                                            <input class="form-check-input team-check" type="checkbox">
                                                                                        </td>
                                                                                        <td>
                                                                                            <div class="fw-semibold">Teams BBL 1 - คุณปานิสรา วงษ์วาณิช (สอบ)</div>
                                                                                        </td>
                                                                                        <td>
                                                                                            <div class="member-name">ปานิสรา วงษ์วาณิช</div>
                                                                                            <div class="member-area fw-semibold text-dark">กรุงเทพฯ/ปริมณฑล</div>
                                                                                        </td>
                                                                                    </tr>

                                                                                    <!-- Row 4 (unchecked) -->
                                                                                    <tr class="team-row">
                                                                                        <td>
                                                                                            <input class="form-check-input team-check" type="checkbox">
                                                                                        </td>
                                                                                        <td>
                                                                                            <div class="fw-semibold">Teams BBL 1 - คุณปานิสรา วงษ์วาณิช (สอบ)</div>
                                                                                        </td>
                                                                                        <td>
                                                                                            <div class="member-name">สุณีย์ มหาริษ</div>
                                                                                            <div class="member-area fw-semibold text-dark">ต่างจังหวัด</div>
                                                                                        </td>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>

                                                        <!-- Footer -->
                                                        <div class="card-footer d-flex justify-content-between align-items-center bg-white">
                                                            <button id="btnDeleteUserBank" type="button" class="btn btn-outline-danger">
                                                                <i class="fa fa-trash me-1"></i> Delete
                                                            </button>
                                                            <button id="btnSaveUserBank" type="button" class="btn btn-primary">
                                                                <i class="fa fa-save me-1"></i> Save
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Container-fluid Ends-->
<!-- Modal Starts-->
<div class="modal fade bd-example-modal-xl" id="modalCreateUser" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myLargeModalLabel">Create new user</h4>
                <button class="btn-close py-0" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body dark-modal">
                <form class="row g-3 needs-validation custom-input" novalidate="">
                    <div class="col-12">
                        <div class="row">
                            <div class="col-md-2">
                                <label class="form-label" for="validationTooltip01">
                                    Title (TH)<span class="text-danger">*</span>
                                </label>
                                <select class="form-select" id="validationTooltip01" required="">
                                    <option selected="" value="">ไม่ระบุ</option>
                                    <option>นาย </option>
                                    <option>นาง </option>
                                    <option>นางสาว </option>
                                </select>
                                <div class="invalid-tooltip">Please select a valid pronoun.</div>
                            </div>
                            <div class="col-md-5">
                                <label class="form-label" for="validationTooltip02">
                                    First name (TH)<span class="text-danger">*</span>
                                </label>
                                <input class="form-control" id="validationTooltip02" type="text" placeholder="" required="">
                                <div class="valid-tooltip">Looks good!</div>
                            </div>
                            <div class="col-md-5">
                                <label class="form-label" for="validationTooltip03">
                                    Last name (TH)<span class="text-danger">*</span>
                                </label>
                                <input class="form-control" id="validationTooltip03" type="text" placeholder="" required="">
                                <div class="valid-tooltip">Looks good!</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="row">
                            <div class="col-md-2">
                                <label class="form-label" for="validationTooltip04">
                                    Title (Eng)<span class="text-danger">*</span>
                                </label>
                                <select class="form-select" id="validationTooltip04" required="">
                                    <option selected="" value="">
                                        Not specified
                                    </option>
                                    <option>Mr. </option>
                                    <option>Mrs. </option>
                                    <option>Miss. </option>
                                </select>
                                <div class="invalid-tooltip">Please select a valid pronoun.</div>
                            </div>
                            <div class="col-md-5">
                                <label class="form-label" for="validationTooltip05">
                                    First name (Eng)<span class="text-danger">*</span>
                                </label>
                                <input class="form-control" id="validationTooltip05" type="text" placeholder="" required="">
                                <div class="valid-tooltip">Looks good!</div>
                            </div>
                            <div class="col-md-5">
                                <label class="form-label" for="validationTooltip06">
                                    Last name (Eng)<span class="text-danger">*</span>
                                </label>
                                <input class="form-control" id="validationTooltip06" type="text" placeholder="" required="">
                                <div class="valid-tooltip">Looks good!</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="row">
                            <div class="col-md-4">
                                <label class="form-label" for="validationTooltipEmail">
                                    Email
                                </label>
                                <input class="form-control" id="validationTooltipEmail" type="email" placeholder="example@mail.com" required="">
                            </div>
                            <div class="col-md-4">
                                <label class="form-label" for="validationTooltipMobile">
                                    Mobile Number
                                </label>
                                <input class="form-control" id="validationTooltipMobile" type="tel" placeholder="0812345678" required="">
                            </div>
                            <div class="col-md-4">
                                <label class="form-label" for="validationTooltipDepartment">
                                    Department<span class="text-danger">*</span>
                                </label>
                                <select class="form-select" id="validationTooltipDepartment" required="">
                                    <option selected="" disabled value="">Choose Department</option>
                                    <option>Project Manager</option>
                                    <option>Sales</option>
                                    <option>IT Support</option>
                                    <option>Accounting</option>
                                    <option>Human Resources</option>
                                </select>
                                <div class="invalid-tooltip">Please select a department.</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="row">
                            <div class="col-md-4">
                                <label class="form-label" for="validationTooltipUserID">
                                    User ID<span class="text-danger">*</span>
                                </label>
                                <input class="form-control" id="validationTooltipUserID" type="text" placeholder="Enter User ID" required="">
                                <div class="invalid-tooltip">Please enter a valid User ID.</div>
                            </div>
                            <div class="col-md-4 form-group">
                                <label class="form-label" for="validationTooltipPassword">
                                    Password<span class="text-danger">*</span>
                                </label>
                                <div class="position-relative">
                                    <input class="form-control" id="validationTooltipPassword" type="password" placeholder="*********" required>
                                    <span class="show-hide position-absolute top-50 end-0 translate-middle-y me-3"
                                          style="cursor:pointer; color:blue;"
                                          onclick="togglePassword('validationTooltipPassword', this)">
                                        show
                                    </span>
                                </div>
                                <div class="invalid-tooltip">Please provide a password.</div>
                            </div>
                            <div class="col-md-4 form-group">
                                <label class="form-label" for="validationTooltipConfirmPassword">
                                    Confirm Password<span class="text-danger">*</span>
                                </label>
                                <div class="position-relative">
                                    <input class="form-control" id="validationTooltipConfirmPassword" type="password" placeholder="*********" required>
                                    <span class="show-hide position-absolute top-50 end-0 translate-middle-y me-3"
                                          style="cursor:pointer; color:blue;"
                                          onclick="togglePassword('validationTooltipConfirmPassword', this)">
                                        show
                                    </span>
                                </div>
                                <div class="invalid-tooltip">Please confirm your password.</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-xl-4">
                        <div class="card-wrapper border rounded-3 rtl-input checkbox-checked">
                            <div class="form-check form-switch">
                                <input class="form-check-input" id="flexSwitchCheckDefault" type="checkbox" role="switch">
                                <label class="form-check-label" for="flexSwitchCheckDefault" style="color: black;">
                                    Flag Admin
                                </label>
                            </div>
                            <div class="form-check form-switch">
                                <input class="form-check-input" id="flexSwitchCheckChecked" type="checkbox" role="switch">
                                <label class="form-check-label" for="flexSwitchCheckChecked" style="color: black;">
                                    Flag Readonly
                                </label>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary">Save</button>
            </div>
        </div>
    </div>
</div>
<!-- Modal Ends-->

@section Scripts {
    <script src="~/js/Pages/UserBank/index.js?ver=@DateTime.Now.Ticks.ToString()"></script>
    <link rel="stylesheet" type="text/css" href="~/css/userbank.css?ver=@DateTime.Now.Ticks.ToString()">
}




